/* ===========================
   AMOLED BUTTONS & CONTROLS
   =========================== */

/* Tray buttons - Enhanced 3D AMOLED theme - HIGH VISIBILITY */
.tray-btn {
  background: linear-gradient(180deg, #1a1a1a, #0d0d0d) !important;
  color: #e9eef8 !important; /* Brighter text color */
  border: 1px solid rgba(255, 255, 255, 0.08) !important; /* More visible border */
  border-radius: 50% !important; /* FUERZA REDONDO */
  width: 44px !important;
  height: 44px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all var(--transition-fast) !important;
  box-shadow:
    inset 2px 2px 4px rgba(255, 255, 255, 0.06),
    inset -1px -1px 2px rgba(0, 0, 0, 0.6),
    4px 4px 12px rgba(0, 0, 0, 0.9) !important;
  position: relative !important;
  user-select: none !important;
  backdrop-filter: blur(4px) !important;
}

.tray-btn:hover {
  color: #1e1b4b !important;
  transform: translateY(-3px) scale(1.05) !important;
  box-shadow:
    0 12px 28px rgba(30, 27, 75, 0.2),
    inset -2px -2px 4px rgba(255, 255, 255, 0.04),
    inset 1px 1px 2px rgba(0, 0, 0, 0.4) !important;
}

.tray-btn:active {
  transform: translateY(-1px) scale(1.02) !important;
    inset 3px 3px 8px rgba(0, 0, 0, 0.5),
    inset -1px -1px 2px rgba(255, 255, 255, 0.02),
    2px 2px 6px rgba(0, 0, 0, 0.8) !important;
}

.tray-btn--primary {
  background: linear-gradient(180deg, #2a2a2a, #1a1a1a) !important;
  color: #fff !important;
  box-shadow:
    inset 2px 2px 4px rgba(255, 255, 255, 0.12),
    inset -1px -1px 2px rgba(0, 0, 0, 0.7),
    0 4px 12px rgba(0, 0, 0, 0.8) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.tray-btn--primary:hover {
  box-shadow:
    0 8px 20px rgba(30, 27, 75, 0.3),
    inset 1px 1px 2px rgba(255, 255, 255, 0.15),
    inset -1px -1px 2px rgba(0, 0, 0, 0.6) !important;
  transform: translateY(-3px) scale(1.05) !important;
  background: linear-gradient(180deg, rgba(30, 27, 75, 0.2), rgba(26, 26, 26, 0.9)) !important;
}

.tray-btn--primary:active {
  transform: translateY(-1px) scale(0.98) !important;
  box-shadow:
    inset 3px 3px 6px rgba(0, 0, 0, 0.6),
    inset -1px -1px 2px rgba(255, 255, 255, 0.05),
    0 2px 8px rgba(30, 27, 75, 0.2) !important;
}

.tray-btn--primary:not(.send-enabled) {
  background: #0d0d0d !important;
  color: var(--muted) !important;
  box-shadow:
    inset 2px 2px 4px rgba(255, 255, 255, 0.03),
    inset -1px -1px 2px rgba(0, 0, 0, 0.6),
    4px 4px 12px rgba(0, 0, 0, 0.9) !important;
  border: 1px solid var(--glass-border) !important;
}

.tray-btn--primary:not(.send-enabled):hover {
  color: #1e1b4b !important;
  transform: translateY(-3px) scale(1.05) !important;
  box-shadow:
    0 12px 28px rgba(30, 27, 75, 0.2),
    inset -2px -2px 4px rgba(255, 255, 255, 0.04),
    inset 1px 1px 2px rgba(0, 0, 0, 0.4) !important;
}

.tray-btn--ghost {
  background: linear-gradient(180deg, #2a2a2a, #1a1a1a) !important;
  backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important; /* More visible border */
  box-shadow:
    inset 2px 2px 4px rgba(255, 255, 255, 0.1),
    inset -1px -1px 2px rgba(0, 0, 0, 0.7),
    3px 3px 8px rgba(0, 0, 0, 0.9) !important;
  position: relative !important;
}

.tray-btn--ghost:hover {
  background: linear-gradient(180deg, rgba(30, 27, 75, 0.18), rgba(26, 26, 26, 0.9)) !important;
  border-color: rgba(30, 27, 75, 0.4) !important;
  box-shadow:
    0 8px 20px rgba(30, 27, 75, 0.25),
    inset 1px 1px 2px rgba(255, 255, 255, 0.12),
    inset -1px -1px 2px rgba(0, 0, 0, 0.6) !important;
  transform: translateY(-3px) scale(1.05) !important;
}

.tray-btn--ghost:active {
  transform: translateY(-1px) scale(0.98) !important;
  box-shadow:
    inset 3px 3px 6px rgba(0, 0, 0, 0.6),
    inset -1px -1px 2px rgba(255, 255, 255, 0.05),
    0 2px 8px rgba(30, 27, 75, 0.2) !important;
}

.tray-icon {
  width: 20px;
  height: 20px;
  opacity: 1 !important; /* Full opacity for better visibility */
  transition: all 0.2s ease;
  filter: brightness(1.3) contrast(1.2) drop-shadow(0 1px 3px rgba(0, 0, 0, 0.5));
}

.tray-btn:hover .tray-icon {
  opacity: 1;
  transform: scale(1.1);
  filter: brightness(1.4) contrast(1.3) drop-shadow(0 2px 4px rgba(30, 27, 75, 0.3));
}

.tray-btn--ghost .tray-icon {
  filter: brightness(1.4) contrast(1.3) drop-shadow(0 1px 3px rgba(0, 0, 0, 0.6)) !important;
}

.tray-btn--ghost:hover .tray-icon {
  filter: brightness(1.5) contrast(1.4) drop-shadow(0 2px 5px rgba(30, 27, 75, 0.4)) !important;
  transform: scale(1.15) !important;
}

.model-btn,
.params-btn {
  width: 48px !important;
  height: 48px !important;
  border-radius: 50% !important;
  display: flex !important;
  justify-content: center !important;
  cursor: pointer !important;
  box-shadow:
    inset 1px 1px 2px rgba(255, 255, 255, 0.02),
    3px 3px 8px rgba(0, 0, 0, 0.8) !important;
  border: 1px solid var(--glass-border) !important;
  transition: all var(--transition-medium) !important;
  background: linear-gradient(180deg, #1a1a1a, #0d0d0d) !important;
  color: var(--muted) !important;
  position: relative !important;
  user-select: none !important;
}

.floating-btn:not(#logo-btn):hover,
.logo-toggle:hover,
.history-toggle:hover,
.model-btn:hover,
.params-btn:hover {
  transform: translateY(-2px) scale(1.05) !important;
  border-color: rgba(30, 27, 75, 0.2) !important;
  color: #1e1b4b !important;
  box-shadow:
    inset 1px 1px 2px rgba(255, 255, 255, 0.02),
    0 6px 20px rgba(30, 27, 75, 0.12) !important;
}

.floating-btn:not(#logo-btn):active,
.logo-toggle:active,
.history-toggle:active,
.model-btn:active,
.params-btn:active {
  transform: translateY(0) scale(0.98) !important;
  box-shadow:
    inset 2px 2px 4px rgba(0, 0, 0, 0.3),
    1px 1px 2px rgba(255, 255, 255, 0.01) !important;
}

/* Back button styling */
.back-button {
  background: rgba(13, 13, 13, 0.8) !important;
  backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
  border-radius: 50% !important;
  width: 40px !important;
  height: 40px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  color: var(--muted) !important;
  font-size: 18px !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  box-shadow:
    inset 1px 1px 3px rgba(255, 255, 255, 0.03),
    2px 2px 6px rgba(0, 0, 0, 0.9) !important;
  user-select: none !important;
}

.back-button:hover {
  color: #1e1b4b !important;
  transform: translateY(-2px) scale(1.05) !important;
  box-shadow:
    0 6px 18px rgba(30, 27, 75, 0.18),
    inset -1px -1px 3px rgba(255, 255, 255, 0.03) !important;
}

/* New chat button - AMOLED theme */
.new-chat-btn {
  background: var(--gradient-primary) !important;
  box-shadow: 0 4px 16px rgba(30, 27, 75, 0.3) !important;
}

/* Spinner for send button loading state */
.tray-btn .spinner {
  width: 18px !important;
  height: 18px !important;
  border: 2px solid rgba(255, 255, 255, 0.1) !important;
  border-top-color: rgba(255, 255, 255, 0.6) !important;
  border-radius: 50% !important;
  animation: spin 0.8s linear infinite !important;
}

/* Enhanced focus states for accessibility */
.tray-btn:focus,
.floating-btn:not(#logo-btn):focus,
.logo-toggle:focus,
.history-toggle:focus,
.model-btn:focus,
.params-btn:focus,
.back-button:focus {
  outline: 2px solid rgba(30, 27, 75, 0.5);
  outline-offset: 2px;
}

/* UNIFIED BUTTON STYLES - ATTACHMENT & SEND BUTTONS */
.attach-btn,
.send-btn {
  /* IDENTICAL BASE STYLES */
  background: linear-gradient(180deg, #2a2a2a, #1a1a1a) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  box-shadow:
    inset 2px 2px 4px rgba(255, 255, 255, 0.12),
    inset -1px -1px 2px rgba(0, 0, 0, 0.7),
    0 4px 12px rgba(0, 0, 0, 0.8) !important;
  position: relative !important;
  border-radius: 50% !important;
  width: 44px !important;
  height: 44px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  backdrop-filter: blur(4px) !important;
}

.attach-btn:hover,
.send-btn:hover {
  /* IDENTICAL HOVER STYLES */
  background: linear-gradient(180deg, rgba(30, 27, 75, 0.2), rgba(26, 26, 26, 0.9)) !important;
  border-color: rgba(30, 27, 75, 0.5) !important;
  box-shadow:
    0 8px 20px rgba(30, 27, 75, 0.3),
    inset 1px 1px 2px rgba(255, 255, 255, 0.15),
    inset -1px -1px 2px rgba(0, 0, 0, 0.6) !important;
  transform: translateY(-3px) scale(1.05) !important;
}

.attach-btn:active,
.send-btn:active {
  /* IDENTICAL ACTIVE STYLES */
  transform: translateY(-1px) scale(0.98) !important;
  box-shadow:
    inset 3px 3px 6px rgba(0, 0, 0, 0.6),
    inset -1px -1px 2px rgba(255, 255, 255, 0.05),
    0 2px 8px rgba(30, 27, 75, 0.2) !important;
}

.attach-btn .tray-icon,
.send-btn .tray-icon {
  /* IDENTICAL ICON STYLES */
  filter: brightness(1.5) contrast(1.4) drop-shadow(0 1px 4px rgba(0, 0, 0, 0.7)) !important;
  transition: all 0.2s ease !important;
}

.attach-btn:hover .tray-icon,
.send-btn:hover .tray-icon {
  /* IDENTICAL ICON HOVER STYLES */
  filter: brightness(1.6) contrast(1.5) drop-shadow(0 2px 6px rgba(30, 27, 75, 0.5)) !important;
  transform: scale(1.2) !important;
}
